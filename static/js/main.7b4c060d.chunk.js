(this.webpackJsonpyarta=this.webpackJsonpyarta||[]).push([[0],{11:function(e,t,a){e.exports=a(20)},16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},20:function(e,t,a){"use strict";a.r(t);var s=a(0),i=a.n(s),l=a(9),n=a.n(l),r=a(3),o=a(4),d=a(7),c=a(6);function m(){return i.a.createElement("header",null,i.a.createElement("nav",{className:"level"},i.a.createElement("div",{className:"level-item py-5"},i.a.createElement("div",null,i.a.createElement("h1",{className:"title is-spaced is-size-2 is-size-5-mobile is-size-4-tablet is-size-3-desktop has-text-white mt-0"},"YARTA: Yet Another React Todo App"),i.a.createElement("h2",{className:"subtitle is-size-5 is-size-6-mobile is-size-5-tablet is-size-4-desktop has-text-white has-text-centered"},"Made with"," ",i.a.createElement("span",{style:{color:"crimson"},className:"is-size-4 is-size-5-mobile is-size-4-tablet is-size-3-desktop"},"\u2665")," ","by Leonel Gauna")))))}var h=a(5),u=a(1),p=a(10),b=a(2),v=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={fields:{title:s.props.title,description:s.props.description},errors:{}},s.handleChange=s.handleChange.bind(Object(b.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"handleValidation",value:function(){var e=this.state.fields,t={},a=!0;return e.title||(a=!1,t.title="The Title field can't be empty"),/[^A-Za-z0-9 ]+/.test(e.title)&&(a=!1,t.title="Only letters and numbers allowed"),e.description||(a=!1,t.description="The description field can't be empty"),/[^A-Za-z0-9 ]+/.test(e.description)&&(a=!1,t.description="Only letters and numbers allowed"),this.setState({errors:t}),a}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.handleValidation()&&(this.setState({errors:{}}),this.props.handleEdit?this.props.handleEdit(this.state.fields):(this.props.handleAdd(this.state.fields),this.setState({fields:{title:"",description:""}})))}},{key:"handleChange",value:function(e){this.setState({fields:Object(u.a)(Object(u.a)({},this.state.fields),{},Object(h.a)({},e.target.name,e.target.value))})}},{key:"render",value:function(){var e=this.props.handleEdit?"Save":"Add Todo",t=this.props.handleEdit?"is-success":"is-black",a=this.state.errors.title?"is-danger":"",s=this.state.errors.title?i.a.createElement("p",{className:"help is-danger is-size-5 is-size-6-tablet is-size-6-mobile has-text-centered"},this.state.errors.title):null,l=this.state.errors.description?"is-danger":"",n=this.state.errors.description?i.a.createElement("p",{className:"help is-danger is-size-5 is-size-6-tablet is-size-6-mobile has-text-centered"},this.state.errors.description):null;return i.a.createElement("form",{onSubmit:this.handleSubmit,className:"mt-4"},i.a.createElement("div",{className:"field is-horizontal"},i.a.createElement("div",{className:"field-body"},i.a.createElement("div",{className:"field-label is-normal"},i.a.createElement("label",{className:"label has-text-white"},"Title")),i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"control"},i.a.createElement("input",{className:"input ".concat(a),type:"text",name:"title",value:this.state.fields.title,onChange:this.handleChange})),s),i.a.createElement("div",{className:"field-label is-normal"},i.a.createElement("label",{className:"label has-text-white"},"Description")),i.a.createElement("div",{className:"field"},i.a.createElement("div",{className:"control"},i.a.createElement("input",{className:"input ".concat(l),type:"text",name:"description",value:this.state.fields.description,onChange:this.handleChange})),n),i.a.createElement("div",{className:"field is-grouped is-grouped-centered"},i.a.createElement("div",{className:"control"},i.a.createElement("button",{type:"submit",className:"button ".concat(t)},e))))))}}]),a}(i.a.Component);v.defaultProps={title:"",description:""};a(16);function f(e){var t=e.isComplete?"not completed":"completed",a=e.isComplete?"completed has-text-grey":"has-text-white",s=e.isFormVisible?i.a.createElement(v,{title:e.title,description:e.description,handleEdit:e.handleEdit}):null;return i.a.createElement("div",{className:"box has-background-black-ter ".concat(a)},i.a.createElement("h3",{className:"is-size-4"},e.title),i.a.createElement("p",{className:"is-size-5 mt-4 mb-5"},e.description),i.a.createElement("div",{className:"buttons"},i.a.createElement("button",{className:"button is-black is-small",onClick:e.handleComplete},"Mark as ",t),i.a.createElement("button",{className:"button is-warning is-small",onClick:e.handleForm},"Edit"),i.a.createElement("button",{className:"button is-danger is-small",onClick:e.handleDelete},"Delete")),s)}var E=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).state={todos:s.props.todos,nextId:s.props.nextId},s.handleAdd=s.handleAdd.bind(Object(b.a)(s)),s}return Object(o.a)(a,[{key:"handleDelete",value:function(e){var t=this.state.todos.filter((function(t){return t.id!==e}));this.setState({todos:t},this.saveTodos)}},{key:"handleAdd",value:function(e){var t=Object(p.a)(this.state.todos);t.push(Object(u.a)({id:this.state.nextId},e)),this.setState({todos:t,nextId:this.state.nextId+1},this.saveTodos)}},{key:"handleEdit",value:function(e,t){var a=this.state.todos.map((function(a){return a.id===e?Object(u.a)({id:e},t):a}));this.setState({todos:a},this.saveTodos)}},{key:"handleToggle",value:function(e,t){var a=this.state.todos.map((function(a){return a.id===e?Object(u.a)(Object(u.a)({},a),{},Object(h.a)({},t,!a[t])):a}));this.setState({todos:a},this.saveTodos)}},{key:"saveTodos",value:function(){localStorage.setItem("todos",JSON.stringify(this.state.todos)),localStorage.setItem("nextId",this.state.nextId)}},{key:"componentDidMount",value:function(){var e=JSON.parse(localStorage.getItem("todos")),t=JSON.parse(localStorage.getItem("nextId"));if(null===e||0===e.length)return localStorage.clear();this.setState({todos:e,nextId:t})}},{key:"render",value:function(){var e=this,t=this.state.todos.map((function(t){return i.a.createElement(f,{key:t.id,title:t.title,description:t.description,isComplete:t.isComplete,isFormVisible:t.isFormVisible,handleDelete:e.handleDelete.bind(e,t.id),handleEdit:e.handleEdit.bind(e,t.id),handleComplete:e.handleToggle.bind(e,t.id,"isComplete"),handleForm:e.handleToggle.bind(e,t.id,"isFormVisible")})}));return i.a.createElement("div",{className:"container is-fluid"},i.a.createElement(v,{handleAdd:this.handleAdd}),i.a.createElement("main",{className:"my-6"},t))}}]),a}(i.a.Component);E.defaultProps={todos:[{id:0,title:"Build a vanilla JS App",description:"Gotta practice the basics.",isComplete:!1,isFormVisible:!1},{id:1,title:"Build a React App",description:"Practice makes perfect!.",isComplete:!1,isFormVisible:!1},{id:2,title:"Study more",description:"I have to improve!.",isComplete:!1,isFormVisible:!1}],nextId:3};var g=function(e){Object(d.a)(a,e);var t=Object(c.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(m,null),i.a.createElement(E,null))}}]),a}(i.a.Component);a(17),a(18),a(19);n.a.render(i.a.createElement(g,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.7b4c060d.chunk.js.map